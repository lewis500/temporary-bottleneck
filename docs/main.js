(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(17),i=r(136),c=r(52),l=r(6),u=[14.85,49.85],s=l.a.deepOrange.A400,m=l.a.indigo.A400,f=r(44),d=r.n(f),h=r(376);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E,v,x,k=function(e){return Math.max(Math.min(1e5/3600,1.25/.065*(e/(1/.11)-1)),0)},w=function(e){return Math.max(Math.min(6e4/3600,.45/.083*(e/(1/.11)-1)),0)},O=(E=b(u,2),v=E[0],x=E[1],function(e){return e>=v&&e<=x}),j=[{t:0,a:0,d:0}],S=function(){for(var e=d()(0,123.52941176470587).map((function(e){return 550-32.6797385620915*e})),t=e.map((function(e){return[[0,e]]})),r=function(r){var n=O(r),a=y({},j[j.length-1],{t:r});e=e.map((function(e,t,r){var o=function(e,t,r){var n=e[t],a=0===t?1/0:e[t-1];return!r||n<=470?n+.15*k(a-n):n+.15*w(a-n)}(r,t,n);return e<30&&o>30&&a.a++,e<500&&o>500&&a.d++,o}));for(var o=0;o<t.length;o++)t[o].push([r,e[o]]);j.push(a)},n=0;n<105;n+=.15)r(n);return t}();console.log(j);var M,P,A,L,T={dots:[M=[u[0]+.15,470],P=[u[1],470],L=[M[0]+(A=55.681818181818194)+1,470-A*7.142857142857145]],lines:[[M,L],[P,L]]},W=(S.map((function(e,t){return Object(h.a)().domain(e.map((function(e){return e[0]}))).range(e.map((function(e){return e[1]})))})),S.map((function(e,t){return function(t,r){var n=e[t][1];return n+((e[t+1]?e[t+1][1]:e[t][1])-n)*r}}))),C={play:!1,time:0},N=function(e,t){switch(t.type){case"SET_TIME":return y({},e,{time:t.payload});case"TICK":return y({},e,{time:e.time+t.payload});case"SET_PLAY":return y({},e,{play:t.payload});case"RESET":return y({},e,{time:0});default:return e}},z=a.a.createContext({state:C,dispatch:null}),D=(r(42),r(45)),I=r.n(D),B=r(141),F=function(e,t,r){return Object(n.useMemo)((function(){return Object(h.a)().domain(t).range(e)}),r)};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _=function(e){var t=e.width,r=e.height,o=Object(n.useContext)(z).state,i=Y({width:t,height:r}),c=F([0,t],[0,550],[t]),l=F([r,0],[0,20],[r]),u=R(Object(n.useMemo)((function(){return[c(470),r-l(10),c(5),r-l(2)]}),[c,l]),4),s=(u[0],u[1]),m=u[2],f=u[3],d=R(Object(n.useMemo)((function(){return["M0,0L".concat(t,",0")]}),[t]),1)[0],h=o.time/.15,p=S.map((function(e,t){var r=Math.floor(h),n=h-r;return[t,W[t](r,n)]}));return a.a.createElement("g",null,a.a.createElement("path",{className:i.road,d:d,style:{strokeWidth:s}}),O(o.time)&&a.a.createElement("path",{className:i.cZone,d:"M".concat(c(470),",0L").concat(c(550),",0"),strokeWidth:s}),a.a.createElement("g",null,p.map((function(e,t){return a.a.createElement("rect",{key:e[0],className:i.car,transform:"translate(".concat(c(e[1])-m,",").concat(-f/2,")"),height:f,width:m})}))))},Y=Object(B.a)({road:{stroke:l.a.grey[300]},car:{fill:l.a.purple.A400,rx:1,ry:1},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},cZone:{stroke:l.a.amber.A700}}),H=r(375),J=r(31),K=r.n(J),X={fontSize:"12px"},Z=a.a.memo((function(e){var t=e.dx,r=void 0===t?0:t,n=e.dy,o=void 0===n?0:n,i=e.latexstring,c=void 0===i?"":i;return a.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(r,", ").concat(o,")")},a.a.createElement("span",{style:X},a.a.createElement(K.a,{math:c})))}));function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(r,!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var V,$,ee,te=20,re=25,ne=50,ae=40,oe="translate(".concat(ne,",").concat(te,")"),ie=(V={strokeWidth:"2px",color:l.a.grey[800]},function(e){var t=e.width,r=e.height;return a.a.createElement(a.a.Fragment,null,a.a.createElement("g",null,a.a.createElement("path",{d:"M0,0L0,".concat(r),fill:"none",stroke:"black",style:V,markerStart:"url(#arrow)"}),a.a.createElement(Z,{dx:-5,dy:-25,latexstring:"x"})),a.a.createElement("g",{transform:"translate(0,".concat(r,")")},a.a.createElement("path",{d:"M0,0L".concat(t,",0"),fill:"none",stroke:"black",style:V,markerEnd:"url(#arrow)"}),a.a.createElement(Z,{dx:t-5,dy:5,latexstring:"t"})))}),ce={mask:"url(#coverMask)"},le=function(){var e={fill:"none",stroke:l.a.lightBlue.A400,strokeWidth:"2px"};return a.a.memo((function(t){var r=t.tScale,o=t.xScale;return a.a.createElement("g",{style:ce},S.map((function(t,a){return Object(n.createElement)("path",{style:e,key:a,d:I()(t.map((function(e){var t=Q(e,2),n=t[0],a=t[1];return{x:r(n),y:o(a)}})),.2).reduce((function(e,t){return e+t.x+","+t.y+" "}),"M")})})))}))}(),ue=(ee=q({},$={strokeWidth:"2px",stroke:m,fill:"none",strokeDasharray:"3,4",strokeLinecap:"round"},{stroke:s}),function(e){var t=e.xScale,r=e.width;return a.a.createElement("g",null,a.a.createElement("g",{transform:"translate(0,".concat(t(30),")")},a.a.createElement(Z,{latexstring:"x_a",dx:-22,dy:-10}),Object(n.createElement)("path",q({},ee,{d:"M0,0L".concat(r,",0")}))),a.a.createElement("g",{transform:"translate(0,".concat(t(500),")")},a.a.createElement(Z,{latexstring:"x_d",dx:-22,dy:-10}),Object(n.createElement)("path",q({},$,{d:"M0,0L".concat(r,",0")}))))}),se=a.a.createElement("defs",null,a.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},a.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),me=function(e){var t=e.width,r=e.height,o=fe({width:t,height:r});t=t-ne-ae,r=r-re-te;var i=Object(n.useContext)(z).state,c=F([r,0],[0,550],[r]),l=F([0,t],[0,105],[t]);return a.a.createElement("svg",{className:o.svg},se,a.a.createElement("g",{transform:oe},a.a.createElement("mask",{id:"myMask"},a.a.createElement("rect",{height:r,width:t,fill:"white",stroke:"none"})),a.a.createElement("mask",{id:"coverMask"},a.a.createElement("rect",{width:l(i.time),height:r,fill:"white"})),a.a.createElement("g",{style:{mask:"url(#myMask)"}},a.a.createElement(le,{tScale:l,xScale:c}),a.a.createElement("g",{transform:"translate(".concat(l(i.time),",").concat(r,") rotate(-90)")},a.a.createElement(_,{height:30,width:r}))),T.dots.map((function(e,t){return a.a.createElement("circle",{key:t,cx:l(e[0]),cy:c(e[1]),r:"5"})})),T.lines.map((function(e,t){return a.a.createElement("line",{key:t,x1:l(e[0][0]),y1:c(e[0][1]),x2:l(e[1][0]),y2:c(e[1][1]),className:o.interface})})),a.a.createElement(ue,{xScale:c,width:t}),a.a.createElement(ie,{width:t,height:r})))},fe=Object(B.a)(Object(H.a)({svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},math:{fontSize:"12px"},trajectory:{fill:"none",stroke:l.a.lightBlue[300],strokeWidth:"2px"},interface:{strokeWidth:"3px",stroke:l.a.pink[500]},hidden:{fill:"white",opacity:0},marker:{fill:l.a.lightBlue.A700}})),de=r(138),he=r(21),pe=r(19),ye=r(41),ge=a.a.memo((function(){return a.a.createElement("defs",null,a.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},a.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})))})),be=20,Ee=20,ve=20,xe=10,ke="translate(".concat(ve,",").concat(be,")"),we=function(){var e={strokeWidth:"2px",color:he.a[800]};return function(t){var r=t.width,n=t.height;return a.a.createElement(a.a.Fragment,null,a.a.createElement("g",null,a.a.createElement("path",{d:"M0,0L0,".concat(n),fill:"none",stroke:"black",style:e,markerStart:"url(#arrow)"}),a.a.createElement(Z,{dx:-10,dy:-25,latexstring:"veh"})),a.a.createElement("g",{transform:"translate(0,".concat(n,")")},a.a.createElement("path",{d:"M0,0L".concat(r,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",style:e}),a.a.createElement(Z,{dx:r-5,dy:5,latexstring:"t"})))}}(),Oe=function(e){var t=e.width,r=e.height,o=Object(n.useContext)(z).state,i=je({width:t,height:r});t=t-ve-xe;var c=F([r=r-be-Ee,0],[0,1.25*.68*105],[r]),l=F([0,t],[0,105],[t]),u=Object(n.useMemo)((function(){return"M"+j.map((function(e){return[l(e.t),c(e.d)]}))}),[t,r]),s=Object(n.useMemo)((function(){return"M"+j.map((function(e){return[l(e.t),c(e.a)]}))}),[t,r]);return a.a.createElement("svg",{className:i.svg},a.a.createElement(ge,null),a.a.createElement("g",{transform:ke},a.a.createElement("mask",{id:"coverMask-cum"},a.a.createElement("rect",{width:l(o.time),height:r,fill:"white"})),a.a.createElement("g",{mask:"url(#coverMask-cum)"},a.a.createElement("path",{className:i.aPath,d:s}),a.a.createElement("path",{className:i.dPath,d:u})),a.a.createElement(we,{width:t,height:r})))},je=Object(B.a)({dot:{fill:pe.a[500],stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:ye.a.A700,opacity:.8},aPath:{stroke:s,fill:"none",strokeWidth:2},dPath:{stroke:m,fill:"none",strokeWidth:2},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:ye.a.A400,strokeDasharray:"2,2"},svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:he.a[300]},text:{textAlign:"center",fontSize:"10px"}}),Se=r(140),Me=r(9);function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ae=Object(Me.a)((function(){return{root:{color:l.a.pink.A400,marginBottom:"5px"}}}))(Se.a),Le={},Te=function(){var e=Object(n.useContext)(z),t=e.state,r=e.dispatch,o=t.play,l=We(Le);return function(e,t){var r=Object(n.useRef)(0);r.current=e,Object(n.useLayoutEffect)((function(){if(t){var e=0,n=Object(c.a)((function(t){var n=(t-e)/1e3;e=t,r.current&&r.current(n)}));return function(){return n.stop()}}}),[t])}((function(e){r({type:"TICK",payload:e*=6})}),o),t.time>105&&r({type:"RESET"}),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:l.title},a.a.createElement("div",null,"Temporary Bottleneck")),a.a.createElement("div",{className:l.main},a.a.createElement("div",null,a.a.createElement(me,{width:700,height:350})),a.a.createElement("div",null,a.a.createElement(Oe,{width:400,height:350}),a.a.createElement("div",{className:l.paper},a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},a.a.createElement(i.a,{className:l.button,variant:"contained",color:"secondary",onClick:function(){return r({type:"SET_PLAY",payload:!o})}},o?"PAUSE":"PLAY"),a.a.createElement(i.a,{className:l.button,variant:"contained",color:"secondary",onClick:function(){r({type:"RESET"})}},"Reset")),a.a.createElement("div",{className:l.sliderLabel,style:{marginTop:15}},"time ",a.a.createElement(K.a,{math:"t"})),a.a.createElement(Ae,{component:"div",onChange:function(e,t){return r({type:"SET_TIME",payload:t})},value:t.time,step:.525,min:0,max:105})))))},We=Object(de.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},sliderLabel:{fontSize:"14px",marginTop:"5px"},main:{color:l.a.grey[800],margin:"auto",display:"flex",justifyContent:"center"},paper:{maxWidth:"500px",display:"flex",padding:"20px",flexDirection:"column",alignItems:"center"},title:{backgroundColor:l.a.lightBlue.A700,color:"white",width:"100%",height:"50px",display:"flex",fontFamily:"Helvetica",boxShadow:"1px 1px 2px grey",marginBottom:"15px",alignItems:"center",padding:"5px",paddingLeft:"30px",fontSize:"22px",boxSizing:"border-box"},button:{margin:"5px",width:"100px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),Ce=r(43),Ne=r(35),ze=r(49),De=r.n(ze),Ie=r(50),Be=r.n(Ie),Fe=document.getElementById("root");if(!Fe)throw Error("no root container");var Re=Object(Ne.a)({palette:{primary:{main:De.a[500]},secondary:{main:Be.a[500]}}});Object(o.render)(a.a.createElement(Ce.a,{theme:Re},a.a.createElement((function(){var e=Pe(Object(n.useReducer)(N,C),2),t=e[0],r=e[1];return a.a.createElement(z.Provider,{value:{state:t,dispatch:r}},a.a.createElement(Te,null))}),null)),Fe)}},[[139,1,2]]]);