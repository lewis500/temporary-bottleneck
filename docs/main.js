(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a(255),i=a(250),l=a(43),m=1.5873015873015872,u=a(34),s=a.n(u),f=a(253);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(e){return Math.max(Math.min(8e4/3600,8.888888888888888*(e/4-1)),0)},b=function(e,t){return e%t<t/2},g=function(){for(var e=s()(0,128.0487804878049).map((function(e){return 28.45528455284553*-e})),t=e.map((function(e){return[[0,e]]})),a=function(a){var n=b(a,40);e=e.map((function(e,t,a){var r=0===t?1/0:a[t-1];return!n&&e<=128&&(r=Math.min(r,132)),Math.min(r,e+.1*y(r-e))}));for(var r=0;r<t.length;r++)t[r].push([a,e[r]])},n=0;n<100;n+=.1)a(n);return t}(),E=g.map((function(e,t){return Object(f.a)().domain(e.map((function(e){return e[0]}))).range(e.map((function(e){return e[1]})))})),v={play:!1,time:0},j=function(e,t){switch(t.type){case"TICK":return p({},e,{time:e.time+t.payload});case"SET_PLAY":return p({},e,{play:t.payload});case"RESET":return p({},e,{time:0});default:return e}},O=r.a.createContext({state:v,dispatch:null}),w=a(20),x=a.n(w),k=(a(33),a(128)),S=a(248),M=a(5),A=Object(k.a)(Object(S.a)({svg:{"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},trajectory:{fill:"none",stroke:M.a.lightBlue.A400,strokeWidth:"2px"},hidden:{fill:"white",opacity:0},marker:{fill:M.a.lightBlue.A700}})),N=a(36),P=a.n(N),C=Object(k.a)({road:{stroke:M.a.grey[300]},car:{fill:M.a.purple.A400,rx:1,ry:1},svg:function(e){return{width:e.width,height:e.height,display:"block","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}}},light:{strokeWidth:"5px",fill:"none",stroke:function(e){return e.isGreen?M.a.green.A700:M.a.red.A400}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"}});function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=function(e){var t=e.width,a=e.height,c=Object(n.useContext)(O).state,o=C({width:t,height:a,isGreen:b(c.time,40)}),i=Object(n.useMemo)((function(){return Object(f.a)().range([0,t]).domain([0,160])}),[t]),l=Object(n.useMemo)((function(){return Object(f.a)().range([a,0]).domain([0,20])}),[a]),m=L(Object(n.useMemo)((function(){return[i(128),a-l(10),i(3),a-l(2)]}),[i,l]),4),u=m[0],s=m[1],h=m[2],p=m[3],d=L(Object(n.useMemo)((function(){return["M0,0L".concat(t,",0 M").concat(u+s/2,",").concat(-a/2,"L").concat(u+s/2,",").concat(a/2),"M".concat(u+2,",").concat(-s/2,"L").concat(u+2,",").concat(s/2)]}),[t,a]),2),y=d[0],v=d[1];return r.a.createElement("g",{transform:"translate(0,".concat(a/2-s/2,")")},r.a.createElement("path",{className:o.road,d:y,strokeWidth:s}),r.a.createElement("path",{className:o.light,d:v}),g.map((function(e,t){return r.a.createElement("rect",{key:t,className:o.car,transform:"translate(".concat(i(E[t](c.time))-h,",").concat(-p/2,")"),width:h,height:p})})))};function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=20,W=20,D={width:700+W+50,height:400+I+5},R=Object(f.a)().domain([0,160]).range([400,0]),F=Object(f.a)().domain([0,100]).range([0,700]),B="translate(".concat(W,",").concat(I,")"),Y=(Array.apply(null,{length:50}).map((function(e,t){return t})),r.a.createElement("mask",{id:"myMask"},r.a.createElement("rect",{width:700,height:400,fill:"white"}))),G=r.a.memo((function(e){var t=e.mathClass;return r.a.createElement("g",{transform:"translate(0,".concat(R(128),")")},r.a.createElement("path",{d:"M0,0L".concat(700,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(710,",-10)")},r.a.createElement("span",{className:t},r.a.createElement(x.a,{math:"t \\; \\text{(sec)}"}))))})),J=r.a.memo((function(e){var t=e.mathClass;return r.a.createElement("g",null,r.a.createElement("path",{d:"M0,0L0,".concat(400),fill:"none",stroke:"black",markerEnd:"url(#arrow)",markerStart:"url(#arrow)"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(-10,-25)"},r.a.createElement("span",{className:t},r.a.createElement(x.a,{math:"x \\; \\text{(m)}"}))))})),K=function(e){var t=e.time;return r.a.createElement("mask",{id:"coverMask"},r.a.createElement("rect",{width:F(t),height:400,fill:"white"}))},_=function(e){var t=e.trajectory,a=e.className;return Object(n.createElement)("path",{className:a,d:P()(t.map((function(e){var t=z(e,2),a=t[0],n=t[1];return{x:F(a),y:R(n)}})),.2).reduce((function(e,t){return e+t.x+","+t.y+" "}),"M")})},q={mask:"url(#coverMask)"},H=r.a.memo((function(e){var t=e.className;return r.a.createElement("g",{style:q},g.map((function(e,a){return Object(n.createElement)(_,{className:t,trajectory:e,key:a})})))})),U=r.a.memo((function(){return r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},r.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})))})),X={},Q={mask:"url(#myMask)"},V=function(){var e=A(X),t=Object(n.useContext)(O).state;return r.a.createElement("svg",{className:e.svg,style:D},r.a.createElement(U,null),r.a.createElement("g",{transform:B},Y,r.a.createElement(K,{time:t.time}),r.a.createElement("g",{style:Q},r.a.createElement(H,{className:e.trajectory}),r.a.createElement("g",{transform:"translate(".concat(F(t.time),",").concat(400,") rotate(-90)")},r.a.createElement(T,{height:30,width:400}))),r.a.createElement(G,{mathClass:e.math}),r.a.createElement(J,{mathClass:e.math})))},Z=a(37),$=Object(k.a)({svg:{"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},path:{fill:"none",strokeWidth:2,stroke:M.a.blue.A400},hidden:{fill:"white",opacity:0}}),ee=10,te=40,ae=40,ne=10,re=Object(f.a)().domain([0,.25]).range([0,200]),ce=Object(f.a)().domain([0,1.2*m]).range([400/3,0]),oe=(Object(Z.a)((function(e,t){return"translate(".concat(e,",").concat(t,")")})),Array.apply(null,{length:50}).map((function(e,t){return t}))),ie=r.a.createElement("mask",{id:"myMask"},r.a.createElement("rect",{width:200,height:400/3,fill:"white"})),le=r.a.memo((function(e){var t=e.mathClass;return r.a.createElement("g",{transform:"translate(0,".concat(400/3,")")},r.a.createElement("path",{d:"M0,0L".concat(200,",0"),fill:"none",stroke:"black"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(203,",-10)")},r.a.createElement("span",{className:t},r.a.createElement(x.a,{math:"k \\; \\text{(veh/km)}"}))))})),me=r.a.memo((function(e){var t=e.mathClass;return r.a.createElement("g",null,r.a.createElement("path",{d:"M0,0L0,".concat(400/3),fill:"none",stroke:"black"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(5,-10)"},r.a.createElement("span",{className:t},r.a.createElement(x.a,{math:"q \\; \\text{(veh/min)}"}))))})),ue=function(e){return Math.min(e*(8e4/3600),8.888888888888888*(.25-e))},se=r.a.memo((function(e){var t=e.className;return Object(n.createElement)("path",{className:t,d:"M"+oe.map((function(e){return e/(oe.length-1)*.25})).map((function(e){return[re(e),ce(ue(e))]})).join("L")})})),fe={},he={height:400/3+ee+te,width:200+ae+ne},pe="translate(".concat(ae,",").concat(ee,")"),de=function(){var e=$(fe);return r.a.createElement("svg",{className:e.svg,style:he},r.a.createElement("g",{transform:pe},ie,r.a.createElement("rect",{className:e.hidden,width:200,height:400/3}),r.a.createElement(le,{mathClass:e.math}),r.a.createElement(me,{mathClass:e.math}),r.a.createElement(se,{className:e.path})))},ye=a(249),be=Object(ye.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:M.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:M.a.red.A400},paper:{maxWidth:"500px",margin:"auto",display:"flex",padding:"20px",flexDirection:"row",alignItems:"center"},button:{margin:"5px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}});function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ee={},ve=function(){var e=Object(n.useContext)(O),t=e.state,a=e.dispatch,c=t.play,m=be(Ee);return function(e,t){var a=Object(n.useRef)(0);a.current=e,Object(n.useLayoutEffect)((function(){if(t){var e=0,n=Object(l.a)((function(t){var n=(t-e)/1e3;e=t,a.current&&a.current(n)}));return function(){return n.stop()}}}),[t])}((function(e){a({type:"TICK",payload:e*=4})}),c),t.time>100&&a({type:"RESET"}),r.a.createElement("div",{className:m.main},r.a.createElement(i.a,{className:m.paper,elevation:2},r.a.createElement(o.a,{className:m.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!c})}},c?"PAUSE":"PLAY"),r.a.createElement(o.a,{className:m.button,variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset")),r.a.createElement(V,null),r.a.createElement(de,null))},je=a(252),Oe=a(42),we=a(40),xe=a.n(we),ke=a(41),Se=a.n(ke),Me=document.getElementById("root");if(!Me)throw Error("no root container");var Ae=Object(Oe.a)({palette:{primary:{main:xe.a[500]},secondary:{main:Se.a[500]}}});Object(c.render)(r.a.createElement(je.a,{theme:Ae},r.a.createElement((function(){var e=ge(Object(n.useReducer)(j,v),2),t=e[0],a=e[1];return r.a.createElement(O.Provider,{value:{state:t,dispatch:a}},r.a.createElement(ve,null))}),null)),Me)}},[[126,1,2]]]);